<div class="requisition-details-page">
  <div class="requisition-details-container">

    <div class="header-cover align-self-start d-flex flex-row bg-dark justify-content-center align-items-center p-2">
      <div class="title d-flex flex-row flex-grow-1 ml-2 h3 text-white">
        Eways
      </div>
      <div ngbDropdown placement="bottom-right">
        <button class="menu-button border-0 bg-transparent text-white" ngbDropdownToggle>
          <span class="menu-button__label fa fas fa-user"></span>
          {{currentUser.email}}
          <i class="fa fas fa-caret-down ml-1"></i>
        </button>
        <div ngbDropdownMenu class="pop-menu border rounded-0">
          <button class="dropdown-item" (click)="onClickAccountButton()">
            <i class="fa fas fa-user-circle"></i> Tài khoản</button>
          <button class="dropdown-item" (click)="onClickChangePasswordButton()">
            <i class="fa fas fa-key"></i> Đổi mật khẩu</button>
          <button class="dropdown-item" (click)="onClickDashboardButton()">
            <i class="fa fas fa-address-card"></i> Thống kê</button>
          <button class="dropdown-item" (click)="onClickListingTutorsButton()">
            <i class="fa fas fa-list-alt"></i> Danh sách gia sư</button>
          <button class="dropdown-item" (click)="onClickListingStudentsButton()">
            <i class="fa far fa-list-alt"></i> Danh sách học viên</button>
          <button class="dropdown-item" (click)="onClickListingRequisitionsButton()">
            <i class="fa far fa-list-alt"></i> Danh sách yêu cầu</button>
          <button class="dropdown-item" (click)="onClickLogoutButton()">
            <i class="fa fas fa-power-off"></i> Đăng xuất</button>
        </div>
      </div>
    </div>

    <div class="w-100 h-100" *ngIf="isLoading">
        <app-loading class="loading" [isRetry]="isRetry" (retry)="onClickRetry($event)"></app-loading>
    </div>

    <div class="account-page-content d-flex flex-column p-4 w-100 h-100" *ngIf="!isLoading">
      <div class="card border-0 mt-2 w-100">
        <div class="card-header bg-info">
          <p class="h3 text-white">
              <i class="fa fas fa-envelope"></i> {{requisitionCourse.id}}
          </p>
        </div>
        <div class="card-body border border-top-0 p-3 d-flex flex-column w-100">
          <p class="person-name" (click)="onClickStudentName()"><b>Họ và tên học viên:</b> {{requisitionCourse.student_last_name}} {{requisitionCourse.student_first_name}}</p>
          <p class="person-name"  (click)="onClickTutorName()"><b>Họ và tên gia sư:</b> {{requisitionCourse.tutor_last_name}} {{requisitionCourse.tutor_first_name}}</p>
          <p><b>Môn học:</b> {{requisitionCourse.subject_name}}</p>
          <p><b>Học phí:</b> {{requisitionCourse.tuition}}/Buổi</p>
          <p><b>Lịch học:</b> {{requisitionCourse.schedule}}</p>
          <p><b>Tổng số tiết học:</b> {{requisitionCourse.total_session}} tiết</p>
          <p><b>Thời lượng tiết học:</b> {{requisitionCourse.time_session}} phút</p>
          <p><b>Ngày gửi:</b> {{requisitionCourse.sent_date}}</p>
          <p><b>Trạng thái:</b> 
            <span *ngIf="requisitionCourse.status == '0'">Đang chờ</span>
            <span *ngIf="requisitionCourse.status == '1'" class="text-success">Đã chấp nhận</span>
            <span *ngIf="requisitionCourse.status == '2'" class="text-danger">Đã từ chối</span>
            <span *ngIf="requisitionCourse.status == '3'" class="text-warning">Gia sư hủy</span>
            <span *ngIf="requisitionCourse.status == '4'" class="text-warning">Học viên hủy</span>
          </p>
          <p><b>Mô tả yêu cầu:</b> {{requisitionCourse.description || 'Không có mô tả'}}</p>
          <p *ngIf="requisitionCourse.comment"><b>Lý do hủy:</b> {{requisitionCourse.comment}}</p>
        </div>
      </div>
    </div>

  </div>
</div>